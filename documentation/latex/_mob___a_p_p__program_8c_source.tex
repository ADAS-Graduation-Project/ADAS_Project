\hypertarget{_mob___a_p_p__program_8c_source}{}\doxysection{Mob\+\_\+\+APP\+\_\+program.\+c}
\label{_mob___a_p_p__program_8c_source}\index{COTS/APP/Mob\_APP/Mob\_APP\_program.c@{COTS/APP/Mob\_APP/Mob\_APP\_program.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00001}00001 \textcolor{comment}{/* FILENAME: Mob\_APP\_program }}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00002}00002 \textcolor{comment}{*  Author:  Ali El Bana}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00003}00003 \textcolor{comment}{*  Version:  V1.0}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00004}00004 \textcolor{comment}{*  DATE:   Sun 03/26/2023}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00005}00005 \textcolor{comment}{*/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00007}00007 \textcolor{comment}{/************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00008}00008 \textcolor{comment}{/*                        Include headers                               */}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00009}00009 \textcolor{comment}{/************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00011}00011 \textcolor{preprocessor}{\#include "{}stdlib.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00012}00012 \textcolor{preprocessor}{\#include "{}string.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00014}00014 \textcolor{preprocessor}{\#include "{}../../LIB/LSTD\_TYPES.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00015}00015 \textcolor{preprocessor}{\#include "{}../../LIB/LSTD\_COMPILER.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00016}00016 \textcolor{preprocessor}{\#include "{}../../LIB/LSTD\_VALUES.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00017}00017 \textcolor{preprocessor}{\#include "{}../../LIB/LSTD\_BITMATH.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00019}00019 \textcolor{preprocessor}{\#include "{}../../MCAL/GPIO/GPIO\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00021}00021 \textcolor{preprocessor}{\#include "{}../../HAL/Bluetooth/Bluetooth\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00022}00022 \textcolor{preprocessor}{\#include "{}../../HAL/DCMOTOR/DCM\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00023}00023 \textcolor{preprocessor}{\#include "{}../../HAL/Car\_Movement/Car\_Movement\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00024}00024 \textcolor{preprocessor}{\#include "{}../../HAL/UltraSonic/UltraSonic\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00025}00025 \textcolor{preprocessor}{\#include "{}../../HAL/BUZZER/BUZZER\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00027}00027 \textcolor{preprocessor}{\#include "{}../Traditional\_Mode/Traditional\_Mode\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00028}00028 \textcolor{preprocessor}{\#include "{}../NCC/NCC\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00029}00029 \textcolor{preprocessor}{\#include "{}../ACC/ACC\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00030}00030 \textcolor{preprocessor}{\#include "{}../FCW/FCW\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00031}00031 \textcolor{preprocessor}{\#include "{}../Exit\_State/Exit\_State\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00033}00033 \textcolor{preprocessor}{\#include "{}Mob\_APP\_interface.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00034}00034 \textcolor{preprocessor}{\#include "{}Mob\_APP\_private.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00035}00035 \textcolor{preprocessor}{\#include "{}Mob\_APP\_config.h"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00037}00037 \textcolor{comment}{/************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00038}00038 \textcolor{comment}{/*                     Functions implementations                        */}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00039}00039 \textcolor{comment}{/************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00041}00041 \textcolor{keywordtype}{void} AMobApp\_vInit( \textcolor{keywordtype}{void} )}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00042}00042 \{}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00044}00044     \textcolor{comment}{// Initialization of Bluetooth Module}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00045}00045     HBluetooth\_vInit( ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00047}00047     HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)nSuccessfully connected\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00049}00049 \}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00051}00051 \textcolor{comment}{/**************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00052}00052 \textcolor{comment}{/**************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00053}00053 \textcolor{keywordtype}{void} AMobApp\_vSendSpeedValue( \mbox{\hyperlink{group__typedefs_gae9d3c0db71e8dcd5b0393d8b2608f071}{u32\_t}} A\_u32SpeedValue )}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00054}00054 \{}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00056}00056     \textcolor{keywordtype}{char} L\_strSpeedIndc[9] = \textcolor{stringliteral}{"{}*S"{}} ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00058}00058     \textcolor{keywordtype}{char} L\_strSpeedStr[6] ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00060}00060     \textcolor{comment}{// Convert the speed value from integer to string and store it in speedStr.}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00061}00061     itoa( A\_u32SpeedValue, L\_strSpeedStr, DECIMAL ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00063}00063     \textcolor{comment}{// Concatenate "{}*S"{} with the speed value string to result a string like that "{}*S100"{}.}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00064}00064     strcat( L\_strSpeedIndc, L\_strSpeedStr ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00066}00066     \textcolor{comment}{// Concatenate speed value string with "{}*"{} to result a string like that "{}*S100*"{}}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00067}00067     strcat( L\_strSpeedIndc, \textcolor{stringliteral}{"{}*"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00069}00069     \textcolor{comment}{// Then send this string through bluetooth to the speed indicator.}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00070}00070     HBluetooth\_vSendString( L\_strSpeedIndc ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00072}00072 \}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00074}00074 \textcolor{comment}{/**************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00075}00075 \textcolor{comment}{/**************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00076}00076 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00077}00077 \textcolor{keywordtype}{void} AMobApp\_vCntrlCar( \textcolor{keywordtype}{void} )}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00078}00078 \{}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00080}00080     \mbox{\hyperlink{group__typedefs_ga4782c2e0e32746464299989e379e14a8}{c8\_t}} L\_c8RecievedState = TRAD\_MODE\_CHAR ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00081}00081 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00082}00082     HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)nCar is ready to be controlled\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00084}00084     \textcolor{keywordflow}{while}( \mbox{\hyperlink{group__standardvalues_gaa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}} )}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00085}00085     \{}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00087}00087         HBluetooth\_vDisableAsynchReceive( ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00088}00088 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00089}00089         HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)nSelect one of these modes:\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00090}00090         HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)n1-\/Traditional Mode\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00091}00091         HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)n2-\/NCC Mode\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00092}00092         HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)n3-\/ACC Mode\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00093}00093         HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)n4-\/FCW Mode\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00094}00094         HBluetooth\_vSendString( \textcolor{stringliteral}{"{}\(\backslash\)n5-\/Exit Mode\(\backslash\)n"{}} ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00096}00096         L\_c8RecievedState = HBluetooth\_u8ReceiveByte( ) ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00098}00098         \textcolor{keywordflow}{switch}( L\_c8RecievedState )}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00099}00099         \{}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00100}00100 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00101}00101             \textcolor{keywordflow}{case} TRAD\_MODE\_CHAR : ATraditional\_vModeON( ) ; break ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00103}00103             \textcolor{keywordflow}{case} NCC\_MODE\_CHAR  : ANCC\_vModeON( )         ; break ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00105}00105             \textcolor{keywordflow}{case} ACC\_MODE\_CHAR  : AACC\_vModeON( )         ; break ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00106}00106 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00107}00107             \textcolor{keywordflow}{case} FCW\_MODE\_CHAR  : AFCW\_vModeON( )         ; break ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00109}00109             default             : ATraditional\_vModeON( ) ; break ;}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00110}00110 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00111}00111         \}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00113}00113     \}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00114}00114 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00115}00115 \}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00117}00117 \textcolor{comment}{/**************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00118}00118 \textcolor{comment}{/**************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00120}00120 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00125}00125 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00127}00127 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00129}00129 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00130}00130 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00131}00131 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00132}00132 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00134}00134 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00135}00135 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00136}00136 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00138}00138 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00139}00139 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00140}00140 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00141}00141 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00143}00143 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00146}00146 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00147}00147 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00149}00149 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00152}00152 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00153}00153 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00155}00155 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00156}00156 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00157}00157 }
\DoxyCodeLine{\Hypertarget{_mob___a_p_p__program_8c_source_l00158}00158 }

\end{DoxyCode}
