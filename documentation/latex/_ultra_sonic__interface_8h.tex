\hypertarget{_ultra_sonic__interface_8h}{}\doxysection{COTS/\+HAL/\+Ultra\+Sonic/\+Ultra\+Sonic\+\_\+interface.h File Reference}
\label{_ultra_sonic__interface_8h}\index{COTS/HAL/UltraSonic/UltraSonic\_interface.h@{COTS/HAL/UltraSonic/UltraSonic\_interface.h}}


This file is a header file that contains the Ultrasonic sensor functions prototypes.  


\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type}{HULTSNC\+\_\+\+Config\+Type}}
\begin{DoxyCompactList}\small\item\em Ultrasonic Configurations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_ultra_sonic__interface_8h_ab790ce3b9eab4f2d2d3c407dc71e2d8f}{HULTSNC\+\_\+v\+Init}} (\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type}{HULTSNC\+\_\+\+Config\+Type}} $\ast$TRIG\+\_\+ps\+Cfg)
\begin{DoxyCompactList}\small\item\em This function is responsible for initializing the ultrasonic sensor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_ultra_sonic__interface_8h_a945a8d36a184f5142f9dbc3a41c6cc29}{HULTSNC\+\_\+v\+Trigger}} (\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type}{HULTSNC\+\_\+\+Config\+Type}} $\ast$TRIG\+\_\+ps\+Cfg)
\begin{DoxyCompactList}\small\item\em This function is responsible for triggering the ultrasonic sensor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__typedefs_gad8e451647f66f06a13c0baefa773a542}{f32\+\_\+t}} \mbox{\hyperlink{_ultra_sonic__interface_8h_ad93d70bd64b874554813ab9e0f18f496}{HULTSNC\+\_\+f32\+Get\+Distance}} (void)
\begin{DoxyCompactList}\small\item\em This function is responsible for getting the distance measured by the ultrasonic sensor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file is a header file that contains the Ultrasonic sensor functions prototypes. 

\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
02/24/2023 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Ali El Bana 
\end{DoxyAuthor}


Definition in file \mbox{\hyperlink{_ultra_sonic__interface_8h_source}{Ultra\+Sonic\+\_\+interface.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_ultra_sonic__interface_8h_ab790ce3b9eab4f2d2d3c407dc71e2d8f}\label{_ultra_sonic__interface_8h_ab790ce3b9eab4f2d2d3c407dc71e2d8f}} 
\index{UltraSonic\_interface.h@{UltraSonic\_interface.h}!HULTSNC\_vInit@{HULTSNC\_vInit}}
\index{HULTSNC\_vInit@{HULTSNC\_vInit}!UltraSonic\_interface.h@{UltraSonic\_interface.h}}
\doxysubsubsection{\texorpdfstring{HULTSNC\_vInit()}{HULTSNC\_vInit()}}
{\footnotesize\ttfamily void HULTSNC\+\_\+v\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type}{HULTSNC\+\_\+\+Config\+Type}} $\ast$}]{TRIG\+\_\+ps\+Cfg }\end{DoxyParamCaption})}



This function is responsible for initializing the ultrasonic sensor. 


\begin{DoxyParams}{Parameters}
{\em TRIG\+\_\+ps\+Cfg} & pointer to a struct that holds the trigger pin configurations \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00028}{28}} of file \mbox{\hyperlink{_ultra_sonic__program_8c_source}{Ultra\+Sonic\+\_\+program.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029 \{}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031     \mbox{\hyperlink{group__compiler_gaf36fbf9b72d48ddc34a627487ef0bba9}{VAR}}(\mbox{\hyperlink{struct_m_g_p_i_ox___config_type}{MGPIOx\_ConfigType}}) TRIG\_Cfg =}
\DoxyCodeLine{00032     \{}
\DoxyCodeLine{00033         .Port           = TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_a6439a8215e05cda734aef4c58d715032}{u8Port}}, .Pin            = TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_aa04032dd2b59932d869adaefba43c15d}{u8Pin}}    ,}
\DoxyCodeLine{00034         .Mode           = \mbox{\hyperlink{group__gpio__modes_ga4972d73d7eb99665462f063f0264138f}{GPIOx\_MODE\_OUTPUT}}    , .OutputType   = \mbox{\hyperlink{group__gpio__output__types_ga5343b590d444a2b8a37f7507366869ea}{GPIOx\_PUSHPULL}}  ,}
\DoxyCodeLine{00035         .OutputSpeed    = \mbox{\hyperlink{group__gpio__pin__speed_ga0c2f1d04e61f1ea65a8e68751013e2b2}{GPIOx\_LowSpeed}}  , .InputType    = \mbox{\hyperlink{group__gpio__pull__types_gaf4cf4bb06c94c525f63f7c84377d48f8}{GPIOx\_NoPull}}}
\DoxyCodeLine{00036     \} ;}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038     \mbox{\hyperlink{_g_p_i_o__interface_8h_ae0822bea960c4226977e88ec16f3764e}{MGPIOx\_vInit}}( \&TRIG\_Cfg ) ;}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040     MTIM1\_vSetPrescalerValue( 7 ) ;}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042     MTIM1\_vSetAutoReloadValue( 10000 ) ;}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044     MTIM1\_vReadPWM( ) ;}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046 \}}

\end{DoxyCode}


References \mbox{\hyperlink{_g_p_i_o__interface_8h_source_l00257}{GPIOx\+\_\+\+Low\+Speed}}, \mbox{\hyperlink{_g_p_i_o__interface_8h_source_l00177}{GPIOx\+\_\+\+MODE\+\_\+\+OUTPUT}}, \mbox{\hyperlink{_g_p_i_o__interface_8h_source_l00293}{GPIOx\+\_\+\+No\+Pull}}, \mbox{\hyperlink{_g_p_i_o__interface_8h_source_l00242}{GPIOx\+\_\+\+PUSHPULL}}, \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00028}{HULTSNC\+\_\+v\+Init()}}, \mbox{\hyperlink{_g_p_i_o__program_8c_source_l00421}{MGPIOx\+\_\+v\+Init()}}, \mbox{\hyperlink{_ultra_sonic__interface_8h_source_l00029}{HULTSNC\+\_\+\+Config\+Type\+::u8\+Pin}}, \mbox{\hyperlink{_ultra_sonic__interface_8h_source_l00025}{HULTSNC\+\_\+\+Config\+Type\+::u8\+Port}}, and \mbox{\hyperlink{_l_s_t_d___c_o_m_p_i_l_e_r_8h_source_l00023}{VAR}}.



Referenced by \mbox{\hyperlink{_d_c_m__program_8c_source_l00108}{HDCM\+\_\+v\+Motor\+Speed\+Cntrl()}}, and \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00028}{HULTSNC\+\_\+v\+Init()}}.

\mbox{\Hypertarget{_ultra_sonic__interface_8h_a945a8d36a184f5142f9dbc3a41c6cc29}\label{_ultra_sonic__interface_8h_a945a8d36a184f5142f9dbc3a41c6cc29}} 
\index{UltraSonic\_interface.h@{UltraSonic\_interface.h}!HULTSNC\_vTrigger@{HULTSNC\_vTrigger}}
\index{HULTSNC\_vTrigger@{HULTSNC\_vTrigger}!UltraSonic\_interface.h@{UltraSonic\_interface.h}}
\doxysubsubsection{\texorpdfstring{HULTSNC\_vTrigger()}{HULTSNC\_vTrigger()}}
{\footnotesize\ttfamily void HULTSNC\+\_\+v\+Trigger (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type}{HULTSNC\+\_\+\+Config\+Type}} $\ast$}]{TRIG\+\_\+ps\+Cfg }\end{DoxyParamCaption})}



This function is responsible for triggering the ultrasonic sensor. 


\begin{DoxyParams}{Parameters}
{\em TRIG\+\_\+ps\+Cfg} & pointer to a struct that holds the trigger pin configurations \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00051}{51}} of file \mbox{\hyperlink{_ultra_sonic__program_8c_source}{Ultra\+Sonic\+\_\+program.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00052 \{}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054     \mbox{\hyperlink{_g_p_i_o__interface_8h_a29da100159c6f4c0db683e1a12bbe827}{MGPIOx\_vSetResetAtomic}}( TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_a6439a8215e05cda734aef4c58d715032}{u8Port}}, TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_aa04032dd2b59932d869adaefba43c15d}{u8Pin}}, \mbox{\hyperlink{group__gpio__output__values_ga024aaae1f1031a1886437ac9089ddab9}{GPIOx\_LOW}} ) ;}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056     \mbox{\hyperlink{_sys_tick__interface_8h_a3d2c258787b14636e9e744da1a9a9765}{MSysTick\_vDelayMicroSec}}( 2 ) ;}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058     \mbox{\hyperlink{_g_p_i_o__interface_8h_a29da100159c6f4c0db683e1a12bbe827}{MGPIOx\_vSetResetAtomic}}( TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_a6439a8215e05cda734aef4c58d715032}{u8Port}}, TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_aa04032dd2b59932d869adaefba43c15d}{u8Pin}}, \mbox{\hyperlink{group__gpio__output__values_gad4850c5b570986c1a0b8111114fbbfdc}{GPIOx\_HIGH}} ) ;}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060     \mbox{\hyperlink{_sys_tick__interface_8h_a3d2c258787b14636e9e744da1a9a9765}{MSysTick\_vDelayMicroSec}}( 10 ) ;}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062     \mbox{\hyperlink{_g_p_i_o__interface_8h_a29da100159c6f4c0db683e1a12bbe827}{MGPIOx\_vSetResetAtomic}}( TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_a6439a8215e05cda734aef4c58d715032}{u8Port}}, TRIG\_psCfg-\/>\mbox{\hyperlink{struct_h_u_l_t_s_n_c___config_type_aa04032dd2b59932d869adaefba43c15d}{u8Pin}}, \mbox{\hyperlink{group__gpio__output__values_ga024aaae1f1031a1886437ac9089ddab9}{GPIOx\_LOW}}  ) ;}
\DoxyCodeLine{00063 }
\DoxyCodeLine{00064 \}}

\end{DoxyCode}


References \mbox{\hyperlink{_g_p_i_o__interface_8h_source_l00322}{GPIOx\+\_\+\+HIGH}}, \mbox{\hyperlink{_g_p_i_o__interface_8h_source_l00329}{GPIOx\+\_\+\+LOW}}, \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00051}{HULTSNC\+\_\+v\+Trigger()}}, \mbox{\hyperlink{_g_p_i_o__program_8c_source_l00266}{MGPIOx\+\_\+v\+Set\+Reset\+Atomic()}}, \mbox{\hyperlink{_sys_tick__program_8c_source_l00132}{MSys\+Tick\+\_\+v\+Delay\+Micro\+Sec()}}, \mbox{\hyperlink{_ultra_sonic__interface_8h_source_l00029}{HULTSNC\+\_\+\+Config\+Type\+::u8\+Pin}}, and \mbox{\hyperlink{_ultra_sonic__interface_8h_source_l00025}{HULTSNC\+\_\+\+Config\+Type\+::u8\+Port}}.



Referenced by \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00051}{HULTSNC\+\_\+v\+Trigger()}}.

\mbox{\Hypertarget{_ultra_sonic__interface_8h_ad93d70bd64b874554813ab9e0f18f496}\label{_ultra_sonic__interface_8h_ad93d70bd64b874554813ab9e0f18f496}} 
\index{UltraSonic\_interface.h@{UltraSonic\_interface.h}!HULTSNC\_f32GetDistance@{HULTSNC\_f32GetDistance}}
\index{HULTSNC\_f32GetDistance@{HULTSNC\_f32GetDistance}!UltraSonic\_interface.h@{UltraSonic\_interface.h}}
\doxysubsubsection{\texorpdfstring{HULTSNC\_f32GetDistance()}{HULTSNC\_f32GetDistance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__typedefs_gad8e451647f66f06a13c0baefa773a542}{f32\+\_\+t}} HULTSNC\+\_\+f32\+Get\+Distance (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function is responsible for getting the distance measured by the ultrasonic sensor. 

\begin{DoxyReturn}{Returns}
distance measured by the ultrasonic sensor 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00069}{69}} of file \mbox{\hyperlink{_ultra_sonic__program_8c_source}{Ultra\+Sonic\+\_\+program.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070 \{}
\DoxyCodeLine{00071 }
\DoxyCodeLine{00072     \mbox{\hyperlink{group__typedefs_gad8e451647f66f06a13c0baefa773a542}{f32\_t}} L\_f32PulseTime   = MTIM1\_u16GetCaptureReg2Value( )   ;}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074     \mbox{\hyperlink{group__typedefs_gad8e451647f66f06a13c0baefa773a542}{f32\_t}} L\_f32Period      = MTIM1\_u16GetCaptureReg1Value( )   ;}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076     \mbox{\hyperlink{group__typedefs_gad8e451647f66f06a13c0baefa773a542}{f32\_t}} L\_f32Distance        = \mbox{\hyperlink{group__standardvalues_ga4d11bc62f87fecb66ddb08bbe922e468}{INITIAL\_ZERO}}                      ;}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078     L\_f32Distance = (float)( L\_f32PulseTime * 0.0174 ) ;}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080     \textcolor{keywordflow}{return} L\_f32Distance ;}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082 \}}

\end{DoxyCode}


References \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00069}{HULTSNC\+\_\+f32\+Get\+Distance()}}, and \mbox{\hyperlink{_l_s_t_d___v_a_l_u_e_s_8h_source_l00056}{INITIAL\+\_\+\+ZERO}}.



Referenced by \mbox{\hyperlink{_ultra_sonic__program_8c_source_l00069}{HULTSNC\+\_\+f32\+Get\+Distance()}}.

